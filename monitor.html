<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" type="text/css" href="style.css">
      <title>Responsive Table Images with Text</title>
   </head>
   <body>
      <div id="bodyPageWithoutAlert">
         <div class="energy-bar" data-energy="0">
            <div class="energy-fill"></div>
            <div class="energy-value" id="fv-value">... kw</div>
            <div id="red-dot-alert">
               <span id="red-text-alert">non<br>aggiornato</span> <!-- Testo sotto il pallino -->
            </div>

         </div>
         <table>
            <tr id="row1">
               <td>
                  <div class="cell-content">
                     <img id="arrowFVtoGrid" class="arrow_icon" src="img/arrow_up_right_to_under_left.png" alt="Image 1">
                     </div>   
                  </div>
               </td>
               <td>
                  <div class="cell-content">
                        <a href="settings.html">
                     <img id="weather-FVindicator-id" src="img/moon_icon.png" alt="Image 2">
                        </a>
                  </div>
               </td>
               <td>
                  <div class="cell-content">
                     <img id="arrowFVtoHouse" class="arrow_icon" src="img/arrow_up_left_to_under_right.png" alt="Image 3">  
                  </div>
               </td>
            </tr>
            <tr id="row2">
               <td>
                  <div class="cell-content">
                     <img id="grid_img" src="img/grid_icon.png" alt="Image 2">
                     <div class="value-with-unit" id="grid-value-and-unit">
                        <span class="value-text" id="grid-value">...</span><span class="unit-text"> kw</span>
                     </div>
                  </div>
               </td>
               <td>
                  <div class="cell-content">
                     <img id="arrowFVtoBattery" class="arrow_icon" src="img/arrow_up_to_under.png" alt="Image 2">
                     <img src="img/arrow_left_to_right.png" id="arrowGridToHouse" alt="arrow Grid to House">

                  </div>
               </td>
               <td>
                  <div class="cell-content">
                     <img id="house-img" src="img/house_icon.png" alt="Image 3">
                     <div class="value-with-unit" id="house-value-and-unit">
                        <span class="value-text" id="house-value">...</span><span class="unit-text"> kw</span>
                     </div>
                  </div>
               </td>
            </tr>
            <tr id="row3">
               <td>
               </td>
               <td>
                  <div id="battery-graphic-container">
                     <div class="positive-pole"></div>
                     <div class="battery-rectangle">
                        <div class="battery-level"></div>
                        <div class="value-with-unit" id="battery-level-percentage-value">
                           <span class="battery-text" id="battery-percentage-value"></span><span class="unit-text" id="unit-text">%</span> 
                        </div>
                     </div>
                     <div class="value-with-unit" id="battery-power-value-and-unit">
                        <span class="value-text" id="battery-power-value">...</span><span class="unit-text" id="unit-battery-power"> kw</span>
                     </div>
                  </div>
               </td>
               <td>
                  <div class="cell-content">
                    <img id="arrowBatteryToHouse" class="arrow_icon" src="img/arrow_under_left_to_up_right.png" alt="Image 4"> 
                  </div>
               </td>
            </tr>
            <tr id="row4">
               <td>
                  <div class="cell-content">
                     <img id="boiler-img" src="img/boiler_icon.png" alt="Image 4">
                  </div>
               </td>
               <td>
                  <div class="cell-content">
                  </div>
               </td>
               <td>
                  <div class="cell-content">
                     <div id="car-div">
                        <img src="img/eletric_car_logo-removebg-preview.png" id="eletric-car-img" alt="Car icon">
                        <div id="value-car">
                           <div id="unit-car-power"></div>
                           <br>
                           <div id="unit-car-percentage"></div>
                        </div>
                     </div>
                  </div>
      </div>
      </td>
      </tr>
      </table>
      <!-- <button onclick="toggleVisibility()">Toggle Text Visibility</button> -->
      </div> <!-- end bodyPageWithoutAlert -->
      <div class="alert" id="gridLimitAlert">
         <p>ATTENZIONE!<br>
            Limite di assorbimento<br> 
            <span id="grid-value-alert">value</span> Kw
         </p>
      </div>
      <div class="alert" id="internetConnectionAlert">
         <p>ATTENZIONE!<br>
            Errore di connessione<br> con Home Assistant<br> 
         </p>
      </div>
      <div class="alert" id="NodeJSAbsentConnectionAlert">
         <p>ATTENZIONE!<br>
            Errore di connessione<br> con il server web<br> 
         </p>
      </div>
      <div class="info-modal" id="house-modal">
         <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-title">Consumi della casa</div>
            <div class="modal-info">
               <div class="modal-row">
                  <p class="block-paragraph">Consumo istantaneo:<span style="margin-right: 10px;"></span></p>
                  <p id="unit-house-power"></p>
               </div>
            </div>
            <br><br><br>
            <div class="modal-title">Auto</div>
            <div class="modal-info">
               <div class="modal-row">
                  <p>Ricarica auto:<span style="margin-right: 10px;"></span></p>
                  <p id="prism-plug-state"></p>
               </div>
               <div class="modal-row">
                  <p>% batteria auto:<span style="margin-right: 10px;"></span></p>
                  <p id="car-percentage-div-in-modal"></p>
               </div>
               <div class="modal-row" id="car-last-update-row">
                  <p>ultimo agg. :<span style="margin-right: 10px;"></span></p>
                  <p id="car-last-update"></p>
               </div>
            </div>
         </div>
      </div>
      <div class="info-modal" id="boiler-modal">
         <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-title">Boiler <span style="color: #32CD32;">ACCESO</span></div>
            <div class="modal-info">
               <div class="modal-row">
                  <p>Consumo istantaneo:<span style="margin-right: 10px;"></span></p>
                  <p id="unit-boiler-power"></p>
               </div>
            </div>
         </div>
      </div>
      </div>
      <script>
         function toggleVisibility() {
             const elements = document.querySelectorAll('.value-with-unit');
             elements.forEach(element => {
                 if (element.style.visibility === 'hidden') {
                     element.style.visibility = 'visible';
                 } else {
                     element.style.visibility = 'hidden';
                 }
             });
             var cells = document.querySelectorAll('td, th');
             cells.forEach(cell => {
                 if (borderVisible) {
                     cell.style.border = 'none';
                 } else {
                     cell.style.border = '2px solid brown';
                 }
             });
             borderVisible = !borderVisible; // Inverti lo stato del bordo
         
         }
      </script>
   </body>
   <script src="vendor/socket.io.js"></script>
   <script src="reciver.js"></script>
   <script src="script.js"></script>
</html>